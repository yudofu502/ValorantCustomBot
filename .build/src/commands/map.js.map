{
  "version": 3,
  "sources": ["../../../src/commands/map.ts"],
  "sourcesContent": ["import { Command } from '../types/command'\nimport Keyv from 'keyv'\nexport default {\n  commandType: 'global',\n  name: 'map',\n  description: '\u30E9\u30F3\u30C0\u30E0\u306B\u30DE\u30C3\u30D7\u3092\u9078\u629E\u3057\u307E\u3059',\n  async execute(interaction) {\n    const map = await getMap()\n    const content = map ?? '\u30DE\u30C3\u30D7\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F'\n    await interaction.reply(content)\n  },\n} as Command\n\nconst mapsCache = new Keyv({\n  namespace: 'maps',\n})\n\nexport const getMap = async (): Promise<string | undefined> => {\n  const cached = await mapsCache.get('maps')\n\n  if (!cached) {\n    const mapApi = `https://valorant-api.com/v1/maps?language=ja-JP`\n    const res = await fetch(mapApi)\n    const data = await res.json()\n    const mapsData = data.data.map((map: any) => map.displayName)\n\n    mapsCache.set('maps', mapsData, 60 * 60 * 1000) //\u30BD\u30FC\u30B9\u304B\u3089\u306E\u66F4\u65B0\u983B\u5EA6\n  }\n  const maps: string[] = cached ??\n    (await mapsCache.get('maps')) ?? [\n      '\u30A2\u30BB\u30F3\u30C8',\n      '\u30D0\u30A4\u30F3\u30C9',\n      '\u30B9\u30D7\u30EA\u30C3\u30C8',\n      '\u30D8\u30A4\u30D6\u30F3',\n      '\u30A2\u30A4\u30B9\u30DC\u30C3\u30AF\u30B9',\n      '\u30D6\u30EA\u30FC\u30BA',\n      '\u30ED\u30FC\u30BF\u30B9',\n      '\u30D5\u30E9\u30AF\u30C1\u30E3\u30FC',\n    ]\n  const map = maps[Math.floor(Math.random() * maps.length)]\n  return map\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,kBAAiB;AACjB,IAAO,cAAQ;AAAA,EACb,aAAa;AAAA,EACb,MAAM;AAAA,EACN,aAAa;AAAA,EACb,MAAM,QAAQ,aAAa;AACzB,UAAM,MAAM,MAAM,OAAO;AACzB,UAAM,UAAU,OAAO;AACvB,UAAM,YAAY,MAAM,OAAO;AAAA,EACjC;AACF;AAEA,MAAM,YAAY,IAAI,YAAAA,QAAK;AAAA,EACzB,WAAW;AACb,CAAC;AAEM,MAAM,SAAS,YAAyC;AAC7D,QAAM,SAAS,MAAM,UAAU,IAAI,MAAM;AAEzC,MAAI,CAAC,QAAQ;AACX,UAAM,SAAS;AACf,UAAM,MAAM,MAAM,MAAM,MAAM;AAC9B,UAAM,OAAO,MAAM,IAAI,KAAK;AAC5B,UAAM,WAAW,KAAK,KAAK,IAAI,CAACC,SAAaA,KAAI,WAAW;AAE5D,cAAU,IAAI,QAAQ,UAAU,KAAK,KAAK,GAAI;AAAA,EAChD;AACA,QAAM,OAAiB,UACpB,MAAM,UAAU,IAAI,MAAM,KAAM;AAAA,IAC/B;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF,QAAM,MAAM,KAAK,KAAK,MAAM,KAAK,OAAO,IAAI,KAAK,MAAM;AACvD,SAAO;AACT;",
  "names": ["Keyv", "map"]
}
